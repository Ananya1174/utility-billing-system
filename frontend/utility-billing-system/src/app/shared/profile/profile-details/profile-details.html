<h2>Profile Details</h2>
<p class="subtitle">Manage your personal information</p>

<div *ngIf="loading">Loading profile...</div>

<div *ngIf="!loading" class="profile-card">

  <div class="profile-header">
    <button
      *ngIf="!editMode"
      class="primary-btn"
      (click)="enableEdit()">
      ✏️ Edit Profile
    </button>
  </div>

  <form (ngSubmit)="updateProfile()">

    <div class="form-grid">

      <div class="form-group">
        <label>Full Name</label>
        <input
          type="text"
          [(ngModel)]="profile.fullName"
          name="fullName"
          [readonly]="!editMode" />
      </div>

      <div class="form-group">
        <label>Email</label>
        <input
          type="email"
          [(ngModel)]="profile.email"
          name="email"
          [readonly]="!editMode" />
      </div>

      <div class="form-group">
        <label>Mobile Number</label>
        <input
          type="text"
          maxlength="10"
          [(ngModel)]="profile.mobileNumber"
          name="mobileNumber"
          [readonly]="!editMode" />
      </div>

      <div class="form-group full">
        <label>Address</label>
        <textarea
          rows="3"
          [(ngModel)]="profile.address"
          name="address"
          [readonly]="!editMode"></textarea>
      </div>

    </div>

    <div class="actions" *ngIf="editMode">
      <button
        type="submit"
        class="primary-btn"
        [disabled]="saving">
        {{ saving ? 'Saving...' : 'Save Changes' }}
      </button>

      <button
        type="button"
        class="secondary-btn"
        (click)="cancelEdit()">
        Cancel
      </button>
    </div>

    <p class="success" *ngIf="successMsg">{{ successMsg }}</p>
    <p class="error" *ngIf="errorMsg">{{ errorMsg }}</p>
  </form>
</div>
