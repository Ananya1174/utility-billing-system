<nav class="navbar">
  <div class="navbar-left">
    <span class="logo">⚡ UtilityBilling</span>
  </div>

  <ul class="navbar-links">

    <!-- CONSUMER -->
   <ng-container *ngIf="isConsumer()">
  <li><a routerLink="/consumer/dashboard">Dashboard</a></li>
  <li><a routerLink="/consumer/utilities">My Utilities</a></li>
  <li><a routerLink="/consumer/bills">Bills</a></li>
  <li><a routerLink="/consumer/payments">Payments</a></li>
</ng-container>

    <!-- ADMIN -->
    <ng-container *ngIf="isAdmin()">
      <li><a routerLink="/admin/dashboard">Dashboard</a></li>
      <li><a routerLink="/admin/account-requests">Account Requests</a></li>
      <li><a routerLink="/admin/users">Users</a></li>
      <li><a routerLink="/admin/utility-requests">Utility Requests</a></li>
      <li><a routerLink="/admin/tariffs">Tariff Management</a></li>
      <li><a routerLink="/admin/billing">Billing & Payments</a></li>
      <li><a routerLink="/admin/reports">Reports</a></li>
    </ng-container>

    <!-- BILLING OFFICER -->
    <ng-container *ngIf="isBillingOfficer()">
      <li><a routerLink="/billing/meter-readings">Meter Readings</a></li>
       <li><a routerLink="/billing/generate-bills">Generate Bills</a></li>
    </ng-container>

    <!-- ACCOUNTS OFFICER -->
    <ng-container *ngIf="isAccountsOfficer()">
      <li><a routerLink="/home">Home</a></li>
      <li><a routerLink="/accounts/payments">Payments</a></li>
      <li><a routerLink="/accounts/reports">Reports</a></li>
    </ng-container>

    <!-- PROFILE -->
    <li><a routerLink="/profile">Profile</a></li>
  </ul>

  <div class="navbar-right">
    <!-- ✅ ONLY logout trigger -->
    <button class="logout-btn" (click)="confirmLogout()">Logout</button>
  </div>
</nav>

<!-- ✅ Reusable confirmation dialog -->
<app-confirm-dialog
  [visible]="logoutDialog"
  title="Logout"
  message="Are you sure you want to logout?"
  confirmText="Logout"
  cancelText="Stay"
  (confirm)="logout()"
  (cancel)="cancelLogout()">
</app-confirm-dialog>