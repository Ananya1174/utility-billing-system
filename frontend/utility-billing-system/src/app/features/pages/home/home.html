<app-navbar></app-navbar>

<div class="home-container">

  <!-- COMMON WELCOME -->
  <section class="welcome">
    <h1>Welcome Back ðŸ‘‹</h1>
    <p *ngIf="role === 'CONSUMER'">
      Manage all your utility services from one place.
    </p>
    <p *ngIf="role === 'ADMIN'">
      Manage system operations and approvals.
    </p>
  </section>

  <!-- CONSUMER HOME -->
  <ng-container *ngIf="role === 'CONSUMER'">
    <section class="summary">
      <div class="summary-card">Active Utilities</div>
      <div class="summary-card">Pending Bills</div>
      <div class="summary-card">Last Payment</div>
      <div class="summary-card">Notifications</div>
    </section>

    <section class="main-sections">
      <div class="section-card">
        <h3>My Utilities</h3>
        <p>View and manage electricity, water, gas, and internet services.</p>
      </div>

      <div class="section-card">
        <h3>Billing & Payments</h3>
        <p>Check bills, payment history, and upcoming dues.</p>
      </div>

      <div class="section-card">
        <h3>Reports</h3>
        <p>Track monthly consumption and expenses.</p>
      </div>
    </section>
  </ng-container>

  <!-- ADMIN HOME -->
  <ng-container *ngIf="role === 'ADMIN'">

    <!-- SUMMARY -->
    <section class="summary admin-summary">
      <div class="summary-card">Pending Account Requests</div>
      <div class="summary-card">Pending Utility Requests</div>
      <div class="summary-card">Active Tariff Plans</div>
      <div class="summary-card">Unpaid Bills</div>
    </section>

    <!-- âœ… REAL COMPONENT (API CALL HAPPENS HERE) -->
    <section class="admin-section">
      <h2>Account Requests</h2>
      <app-account-requests></app-account-requests>
    </section>

    <!-- PLACEHOLDERS -->
    <section class="admin-section">
      <h2>Utility Connection Requests</h2>
      <div class="admin-card">
        Pending utility connection requests and meter assignment.
      </div>
    </section>

    <section class="admin-section">
      <h2>Tariff Management</h2>
      <div class="admin-card">
        Add, activate, deactivate tariff plans and manage slabs.
      </div>
    </section>

    <section class="admin-section">
      <h2>Billing & Payments Overview</h2>
      <div class="admin-card">
        View bills and payment status (read-only).
      </div>
    </section>

  </ng-container>

</div>