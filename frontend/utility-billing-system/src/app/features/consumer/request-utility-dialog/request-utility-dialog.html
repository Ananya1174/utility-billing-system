<div class="dialog-overlay">

  <div class="dialog-card">

    <h2 class="dialog-title">Request Utility</h2>
    <p class="dialog-subtitle">
      Select a utility and tariff plan to request a new connection.
    </p>

    <form class="dialog-form">

      <!-- UTILITY -->
      <div class="form-group">
        <label>Utility Type</label>
        <select
          [(ngModel)]="utilityType"
          name="utility"
          (change)="onUtilityChange()">
          <option value="">Select utility</option>
          <option *ngFor="let u of availableUtilities" [value]="u">
            {{ u }}
          </option>
        </select>
      </div>

      <!-- TARIFF -->
      <div class="form-group">
        <label>Tariff Plan</label>
        <select [(ngModel)]="tariffPlan" name="tariff">
          <option value="">Select plan</option>
          <option *ngFor="let t of tariffPlans" [value]="t">
            {{ t }}
          </option>
        </select>
      </div>

      <!-- ERROR -->
      <p class="error" *ngIf="errorMsg">
        {{ errorMsg }}
      </p>

      <!-- ACTIONS -->
      <div class="dialog-actions">
        <button
          type="button"
          class="secondary-btn"
          (click)="cancel()">
          Cancel
        </button>

        <button
          type="button"
          class="primary-btn"
          [disabled]="submitting || !utilityType || !tariffPlan"
          (click)="submit()">
          {{ submitting ? 'Submittingâ€¦' : 'Submit Request' }}
        </button>
      </div>

    </form>

  </div>

</div>