<div class="invoice-dialog">

  <div class="dialog-header">
    <h2>Invoice</h2>
    <button class="close-btn" (click)="close()">✕</button>
  </div>

  <div *ngIf="loading" class="loading">
    Loading invoice...
  </div>

  <div *ngIf="!loading && invoice" class="dialog-body">
    <div class="meta-grid">
      <div>
        <label>Invoice Number</label>
        <p class="mono">{{ invoice.invoiceNumber }}</p>
      </div>

      <div>
        <label>Invoice Date</label>
        <p>{{ invoice.invoiceDate | date:'medium' }}</p>
      </div>

      <div>
        <label>Bill ID</label>
        <p class="mono">{{ invoice.billId }}</p>
      </div>

      <div>
        <label>Payment ID</label>
        <p class="mono">{{ invoice.paymentId }}</p>
      </div>

      <div>
        <label>Billing Period</label>
        <p>{{ invoice.billingMonth }}/{{ invoice.billingYear }}</p>
      </div>
    </div>
    <hr />

    <h3 class="section-title">Charges</h3>

    <table class="charges-table">
      <tr>
        <td>Energy Charge</td>
        <td>₹ {{ invoice.energyCharge }}</td>
      </tr>
      <tr>
        <td>Tax</td>
        <td>₹ {{ invoice.tax }}</td>
      </tr>
      <tr>
        <td>Penalty</td>
        <td>₹ {{ invoice.penalty }}</td>
      </tr>
      <tr class="total">
        <td>Total Paid</td>
        <td>₹ {{ invoice.amountPaid }}</td>
      </tr>
    </table>

  </div>

  <div class="dialog-footer">
    <button class="secondary-btn" (click)="close()">Close</button>
  </div>

</div>