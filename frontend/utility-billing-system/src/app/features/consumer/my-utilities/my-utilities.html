<div class="page-container">

  <!-- HEADER -->
  <div class="page-header">
    <h2>My Utilities</h2>

    <button
      class="primary-btn"
      *ngIf="canAddUtility"
      (click)="openRequestDialog()">
      ➕ Add Utility
    </button>
  </div>

  <!-- EMPTY STATE -->
  <div class="empty-state" *ngIf="!hasUtilities">
    <p>You don’t have any utilities yet.</p>
    <button class="primary-btn" (click)="openRequestDialog()">
      Request Utility
    </button>
  </div>

  <!-- UTILITIES LIST -->
  <div class="utilities-grid" *ngIf="hasUtilities">

    <div class="utility-card" *ngFor="let u of utilities">

      <h3>{{ u.utilityType }}</h3>

      <p><strong>Tariff:</strong> {{ u.tariffPlan }}</p>

      <p *ngIf="u.meterNumber">
        <strong>Meter No:</strong> {{ u.meterNumber }}
      </p>

      <span
        class="status"
        [ngClass]="u.status.toLowerCase()">
        {{ u.status }}
      </span>

      <p class="hint" *ngIf="u.status === 'PENDING'">
        Waiting for admin approval
      </p>

      <button
        class="secondary-btn"
        *ngIf="u.status === 'APPROVED'">
        View Bills
      </button>

    </div>
  </div>

</div>